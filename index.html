---
layout: default
---

{% assign tab-index = 'active' %}
{% include tabs.html %}

<div class="row" ng-controller="NextEventCtrl">
    <div class="span8">
        <section id="NextEventCtrl">
            <div data-ng-repeat="event in events">
                <h2 ng-bind="event.name"></h2>
                <h3>Location: <a href="http://www.porterscardiff.com/contact/" target="_BLANK">Porter's, Cardiff</a></h3>
                <div ng-bind-html-unsafe="event.description"></div>
            </div>
        </section>
    </div>
    <div class="span4">
        <section id="attendn">
            <h2>You 'tendin?</h2>
            <p><a href="http://www.meetup.com/unified-diff">Sign up on our Meetup page!</a></p>
            <div class="attendn">
                <ul ng-show="rsvps.length > 0">
                    <li data-ng-repeat="rsvp in rsvps" class="">
                        <img src="{[{ rsvp.member_photo.thumb_link }]}" width="40" height="40"/>
                        <a href="http://meetup.com/unified-diff/members/{[{ rsvp.member.member_id }]}">{[{ rsvp.member.name }]}</a>
                    </li>
                </ul>
            </div>
        </section>
    </div>
</div>

<script type="text/javascript">
$(function() {
    // send user to video for old hash-style links
    var video = window.location.hash;
    if (video && $(video).length == 0) {
        window.location.href = 'videos.html' +video;
    }
});

$(document).ready(function() {
    var app = document.getElementById('NextEventCtrl');
    var scope = angular.element(app).scope();
    scope.$apply(function() {
        scope.loadNextEvent();
    });
});
</script>

